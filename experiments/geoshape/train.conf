//experiment {
//  experiment_dir = "/mnt/storage/home/suruli/suruli/experiments/RBH3D"
//  batch_size = 2
//  num_epochs = 100
//  gpu = true
//  device = 0
//  num_workers = 2
//  pin_memory = true
//  n_inference = 10
//  seed = 1024
//  resume = "/mnt/storage/home/suruli/suruli/experiments/RBH3D/2022_03_24-13_23_58/checkpoints/CP_12.pth"
//}
//
//data {
//  training_datasets = ["RBH_3D_atlases"]
//  extra_validation_datasets = []
//  mount_prefix = "/mnt/storage/home/suruli/"
//  data_mode = "3D"
//  validation_split = 0.2
//  augmentation_prob = 1
//}

experiment {
  experiment_dir = "D:/surui/ellipse_shape_init_only_ED_central_crop_exp"
  batch_size = 4
  num_epochs = 100000
  gpu = true
  device = 0
  num_workers = 2
  pin_memory = True
  n_inference = 5
//  n_inference = 1
}

data {
  training_datasets = ["RBH_3D_atlases"]
  mount_prefix = "D:/surui/rbh/"
//  mount_prefix = "D:/surui/rbh_3D_1data/"
  data_mode = "3D"
  validation_split = 0
  augmentation_prob = 0
}

augmentation {
    rotation_angles = [15, 15, 15]
    scaling_factors = [0.3, 0.3, 0.3]
    flip = 0.5
    channel_shift = true
    brightness = 0.2
    contrast = 0.2
    gamma = 0.2
}


//network {
//  name = "full"  // lite, mid, or full
//  voxel_width = 256  //x
//  voxel_depth = 256  //y
//  voxel_height = 64  //z
//  num_lv_slices = 64
//  num_extra_slices = 6
//  enc_dim = 64
//}


network {
  name = "ellipse"  // lite, mid, or full
  crop_width = 256
  crop_depth = 256
  crop_height = 64
  voxel_width = 128  //x
  voxel_depth = 128  //y
  voxel_height = 32  //z
  num_lv_slices = 32
  num_extra_slices = 6
  enc_dim = 64
  stages = ["init"]
}


//network {
//  name = "lite"  // lite, mid, or full
//  voxel_width = 64  //x
//  voxel_depth = 64  //y
//  voxel_height = 32  //z
//  num_lv_slices = 32
//  num_extra_slices = 3
//  enc_dim = 64
//}



optimizer {
  type = "Adam"
  learning_rate = 1e-3
}

loss {
  flow_lambda = 10
}
